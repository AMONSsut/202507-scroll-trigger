---
const text = "HELLO WORLD";
---

<div class="container">
  <div class="headline">
    <h1 class="visuallyHidden">Who I am?</h1>

    <div class="text" aria-hidden="true">
      <span class="char" style="--char-index: 0">
        <span class="char-text">T</span>
      </span>
      <span class="char" style="--char-index: 1">
        <span class="char-text">h</span>
      </span>
      <span class="char" style="--char-index: 2">
        <span class="char-text">i</span>
      </span>
      <span class="char" style="--char-index: 3">
        <span class="char-text">s</span>
      </span>
      <span class="whitespace">&nbsp;</span>
      <span class="char" style="--char-index: 4">
        <span class="char-text">W</span>
      </span>
      <span class="char" style="--char-index: 5">
        <span class="char-text">o</span>
      </span>
      <span class="char" style="--char-index: 6">
        <span class="char-text">r</span>
      </span>
      <span class="char" style="--char-index: 7">
        <span class="char-text">l</span>
      </span>
      <span class="char" style="--char-index: 8">
        <span class="char-text">d</span>
      </span>
      <span class="whitespace">&nbsp;</span>
      <span class="char" style="--char-index: 9">
        <span class="char-text">i</span>
      </span>
      <span class="char" style="--char-index: 10">
        <span class="char-text">s</span>
      </span>
      <span class="whitespace">&nbsp;</span>
      <span class="char" style="--char-index: 11">
        <span class="char-text">M</span>
      </span>
      <span class="char" style="--char-index: 12">
        <span class="char-text">i</span>
      </span>
      <span class="char" style="--char-index: 13">
        <span class="char-text">n</span>
      </span>
      <span class="char" style="--char-index: 14">
        <span class="char-text">e</span>
      </span>
    </div>
  </div>
</div>

<style>
.text {
  display: flex;
  justify-content: center;
  align-items: center;
  color: var(--red);
  font-family: "Roboto Mono", monospace;
  font-size: 2rem;
  font-weight: 700;
  text-transform: uppercase;
}

.text.is-active {
  --x: 0;
}

.char {
    overflow: hidden;
}

.char-text {
  display: inline-block;
  transform: translateX(var(--x, -101%));
  transition: transform 0.6s cubic-bezier(0.77, 0, 0.175, 1);
  transition-delay: calc(0.05s * var(--char-index));
}

/* 初期CSS */
.container {
  width: 100%;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: transparent;
}

.visuallyHidden {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0 0 0 0);
  white-space: nowrap;
  border: 0;
}
</style>

<script type="module" is:inline>
const text = document.querySelector('.text');

text.classList.add('is-active');

setInterval(() => {
  text.classList.toggle('is-active');
}, 3000);
</script>
